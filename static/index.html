<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Zum Beispiel</title>
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">
        google.load('visualization', '1', {packages: ['corechart']});
        google.setOnLoadCallback(drawChart);

        function drawChart() {
            var metricsChart = new MetricsChart(
                    "metrics-chart",
                    "last1min.endpoints.*.status_codes.2??",
                    "/metrics",
                    {
                        "intervalMs": 60000,
                        "iterations": 60
                    }
            );
        }
    </script>
    <script type="text/javascript" src="https://gist.github.com/penguinboy/762197/raw/df68d7225ec16aa63b3fdee23fdc7ac18e282786/Object%2520Flatten"></script>
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script type="text/javascript" src="zumbeispiel.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" crossorigin="anonymous">
    <script>
        $(document).ready(function() {
            $("#add-button").click(function () {
                var id = "chart" + MetricsChart.utils.randomInt(0, 100000);
                $("body").append("<div id='" + id + "'></div>");
                new MetricsChart(
                        id,
                        $("#metric-field").val(),
                        "/metrics",
                        {
                            "intervalMs": 60000,
                            "iterations": 60
                        }
                );
                $("#metric-field").val("");
            });
        });
    </script>
</head>
<body>
<div class="container">
    <div class="row">&nbsp;</div>
    <div class="row">
        <div role="main">
            <form class="form-horizontal">
                <div class="form-group">
                    <label for="metric-field" class="col-sm-1 control-label">Metric:</label>
                    <div class="input-group col-sm-11">
                        <input id="metric-field" type="text" class="form-control" value="last1min.endpoints.*.status_codes.2??">
                        <span class="input-group-btn">
                            <button id="add-button" class="btn btn-success" type="button">Create Chart</button>
                        </span>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<div id="metrics-chart"></div>
</body>
</html>